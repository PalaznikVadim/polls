<div class="container">
  <div class="row justify-content-end bg-dark p-2 rounded-bottom ">
    <div class="col-md-2">
      <button type="submit" routerLink="/" class="btn_entry btn btn-primary">Sign in</button>
    </div>
  </div>
  <div class="row justify-content-center ">
    <div class="col-md-6 p-5 bg-light rounded my-5">
      <form (ngSubmit)="createUser()" [formGroup]="registrationForm">
        <h3 class="text-center py-2">Registration</h3>
        <div class="form-group">
          <label for="inputName">Name</label>
          <input id="inputName" type="text" class="form-control" name="name" placeholder="Name" formControlName="name">
          <div *ngIf="isControlInvalid('name')" class="alert alert-danger">
            Incorrect field (2-20 charachter,A-z)
          </div>
          <div *ngIf="errorService.checkErrorsForField('name',errors)">
            <div *ngFor="let error of errorService.outErrorsForField('name',errors)" class="alert alert-danger">
              {{error}}
            </div>
          </div>
        </div>
        <div class="form-group">
          <label for="inputSurname">Surname</label>
          <input id="inputSurname" type="text" class="form-control" name="surname" placeholder="Surname"
                 formControlName="surname">
          <div *ngIf="isControlInvalid('surname')" class="alert alert-danger">
            Incorrect lenght field (2-20 charachter, A-z, possible use "-")
          </div>
          <div *ngIf="errorService.checkErrorsForField('surname',errors)">
            <div *ngFor="let error of errorService.outErrorsForField('surname',errors)" class="alert alert-danger">
              {{error}}
            </div>
          </div>
        </div>
        <div class="form-group">
          <label for="inputDOB">Date of Birth</label>
          <input id="inputDOB" formControlName="DOB" name="DOB" type="date" class="form-control ">
          <div *ngIf="errorService.checkErrorsForField('dateOfBirth',errors)">
            <div *ngFor="let error of errorService.outErrorsForField('dateOfBirth',errors)" class="alert alert-danger">
              {{error}}
            </div>
          </div>
        </div>

        <div class="form-group">
          <label for="inputEmail">Email</label>
          <input type="email" id="inputEmail" formControlName="email" class="form-control"
                 name="email" placeholder="Email"/>
          <div *ngIf="isControlInvalid('email')" class="alert alert-danger">
            Incorrect format email (Example: cat1@gmail.com)
          </div>
          <div *ngIf="errorService.checkErrorsForField('email',errors)">
            <div *ngFor="let error of errorService.outErrorsForField('email',errors)"
                 class="alert alert-danger">
              {{error}}
            </div>
          </div>
          <small id="emailHelp" class="form-text text-muted">We'll never share your email with anyone else.</small>
        </div>
        <div formGroupName="passwords">
          <div class="form-group">
            <label for="inputPassword">Enter password</label>
            <input id="inputPassword" formControlName="password" type="password" name="password" class="form-control"
                   placeholder="Password" #password1>
          </div>
          <div class="form-group">
            <label for="inputPassword">Repeat password</label>
            <input type="password" formControlName="confirmPassword" name="confirmPwd" class="form-control"
                   placeholder="Repeat password" #password2>
          </div>
          <div *ngIf="(isControlInvalid('password', 'passwords')
          || isControlInvalid('confirmPassword', 'passwords'))"
               class="alert alert-danger">
            Password needs to be more than 5 characters(until 20 char)
          </div>
          <div class="alert alert-danger" *ngIf="password1.value !== password2.value">
            Passwords don't match
          </div>
          <div *ngIf="errorService.checkErrorsForField('password',errors)">
            <div *ngFor="let error of errorService.outErrorsForField('password',errors)"
                 class="alert alert-danger">
              {{error}}
            </div>
          </div>
        </div>
        <button type="submit" class="btn btn-primary mt-5 btn-block"
                [disabled]="((!registrationForm.valid) || (password1.value !== password2.value))">Register
        </button>
      </form>
    </div>
  </div>
</div>

